<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_page">
    <sys_ui_page action="INSERT_OR_UPDATE">
        <category>htmleditor</category>
        <client_script/>
        <description/>
        <direct>false</direct>
        <endpoint>x_1283601_disaster_gps_location.do</endpoint>
        <html><![CDATA[
<html>
<head>
    <title>GPS Location</title>
	    <script>
		        function getLocation() {
				            if (navigator.geolocation) {
							                navigator.geolocation.getCurrentPosition(showPosition, showError);
											            } else {
														                alert("Geolocation is not supported by this browser.");
																		            }
																					        }

																							        function showPosition(position) {
																									            const lat = position.coords.latitude;
																												            const lon = position.coords.longitude;
																															            alert("Latitude: " + lat + "\nLongitude: " + lon);

																																		            // Example: Sending data to ServiceNow using GlideAjax
																																					            var ga = new GlideAjax('GeolocationProcessor');
																																								            ga.addParam('sysparm_name', 'storeLocation');
																																											            ga.addParam('lat', lat);
																																														            ga.addParam('lon', lon);
																																																	            ga.getXMLAnswer(function(response) {
																																																				                alert('Location saved: ' + response);
																																																								            });
																																																											        }

																																																													        function showError(error) {
																																																															            switch(error.code) {
																																																																		                case error.PERMISSION_DENIED:
																																																																						                    alert("User denied the request for Geolocation.");
																																																																											                    break;
																																																																																                case error.POSITION_UNAVAILABLE:
																																																																																				                    alert("Location information is unavailable.");
																																																																																									                    break;
																																																																																														                case error.TIMEOUT:
																																																																																																		                    alert("The request to get user location timed out.");
																																																																																																							                    break;
																																																																																																												                case error.UNKNOWN_ERROR:
																																																																																																																                    alert("An unknown error occurred.");
																																																																																																																					                    break;
																																																																																																																										            }
																																																																																																																													        }
																																																																																																																															    </script>
																																																																																																																																</head>
																																																																																																																																<body>
																																																																																																																																    <h1>Get GPS Location</h1>
																																																																																																																																	    <button onclick="getLocation()">Get Location</button>
																																																																																																																																		</body>
																																																																																																																																		</html>



]]></html>
        <name>gps_location</name>
        <processing_script/>
        <sys_class_name>sys_ui_page</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-08-02 12:50:18</sys_created_on>
        <sys_id>b6405cdd47f30210d4428f59e16d43e0</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>gps_location</sys_name>
        <sys_package display_value="Disaster Management" source="x_1283601_disaster">469b148447f78210d4428f59e16d43df</sys_package>
        <sys_policy/>
        <sys_scope display_value="Disaster Management">469b148447f78210d4428f59e16d43df</sys_scope>
        <sys_update_name>sys_ui_page_b6405cdd47f30210d4428f59e16d43e0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-08-02 12:50:18</sys_updated_on>
    </sys_ui_page>
</record_update>
